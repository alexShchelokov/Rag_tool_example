## Подключение API моделей \(Gemini\) для обработки информации

### Задача:
Разработать чат-бота, который использует API модели Gemini от Google Generative AI для обработки текста, загруженного из локального текстового файла\. Бот позволяет пользователям задавать вопросы и получать ответы на основе содержимого файла\.

### Техническая сложность:
- **Аутентификация и настройка API**: Установка подключения к API модели Gemini, обеспечение корректной обработки API\-ключа\.
- **Загрузка текста**: Реализация функции для загрузки текста из файла и разбиения его на абзацы для анализа\.
- **Поиск релевантных абзацев**: Создание алгоритма, который выявляет наиболее подходящие абзацы в зависимости от ключевых слов, заданных пользователем\.
- **Формирование промптов**: Объединение вопроса пользователя и контекста для создания четких и понятных запросов к модели\.
- **Обработка ошибок**: Учёт возможных ошибок при работе с API и загрузке файлов, чтобы обеспечить пользователю интуитивно понятные сообщения об ошибках\.

### Результат:
Созданный бот предоставляет пользователям информацию на основе загруженных текстов. Он способен отвечать на заданные вопросы, эффективно извлекая релевантные данные из файла\.

### Установка и использование:

1. Убедитесь, что у вас установлен Python 3.7 или выше.
2. Установите необходимые библиотеки, выполнив команду:
   ```bash
   pip install generativeai
   ```

3. **Получите API\-ключ** от Google Generative AI и замените "YOUR_API_KEY_HERE" в коде на ваш действующий ключ\.

4\. **Загрузите текстовый файл**: Файл должен быть в формате `\.txt`\. Убедитесь, что он содержит нужную информацию, например, `Resume\.txt`\.

5\. **Запустите программу**\. Введите путь к текстовому файлу, когда вас попросят\. Например:
   ```
   C:/Users/Имя_Пользователя/Путь/К/Файлу/Resume.txt
   ```
   **Примечание**: В Windows обратите внимание на использование правильных символов \(/\) или \(\\\) в пути к файлу\.

\#\#\# Пример кода:

```python
import google\.generativeai as genai
import os

\# \-\-\- Шаг 1: Настройка API\-ключа \-\-\-
api_key \= input\("Пожалуйста, введите ваш API\-ключ: "\)
genai\.configure\(api_key\=api_key\)

model \= genai\.GenerativeModel\('gemini\-1\.5\-flash\-latest'\)

\# \-\-\- Шаг 2: Загрузка и подготовка текстового файла \-\-\-
def load_and_split_text\(file_path\):
    """Загружает текст из файла и разбивает его на абзацы\."""
    with open\(file_path, 'r', encoding\='utf\-8'\) as f:
        text \= f\.read\(\)
    paragraphs \= [p\.strip\(\) for p in text\.split\('\n\n'\) if p\.strip\(\)\]
    return paragraphs

\# Запрос пути к файлу у пользователя
file_path \= input\("Введите путь к файлу \(например, C:/Users/Имя_Пользователя/Resume\.txt\): "\)
paragraphs \= load_and_split_text\(file_path\)

\# \-\- Остальная часть кода \-\-
\# \(Поиск релевантных абзацев, генерация RAG\-промпта, создание диалога и пр\.\)

print\("Добро пожаловать в чат с ботом\! Введите 'выход' для завершения\."\)
while True:
    user_input \= input\("Вы: "\)
    
    if user_input\.lower\(\) in ['выход', 'exit'\]:
        print\("До свидания\!"\)
        break

    relevant_paragraphs \= keyword_retriever\(user_input, paragraphs\)

    if relevant_paragraphs:
        answer \= ask_gemini\(user_input, relevant_paragraphs\)
        print\("Бот:", answer\)
    else:
        print\("Извините, не найдено релевантных абзацев\."\)
```
